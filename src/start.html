
<!DOCTYPE html>
<html lang="">
<head></head>
<body>
<style type="text/css">
	body{
		background-color: whitesmoke;
	}
</style>
<div style="margin-left:20px">
<h2>buttons</h2>

<button  onclick="camera51.setColor('colorFG');">Mark Object</button>
<button  onclick="camera51.setColor('colorBG');">Mark Background</button>
<button  onclick="camera51.undo()">UNDO</button>
<br>
<button  onclick="camera51.zoomIn()">Zoom in</button>
<button  onclick="camera51.zoomOut()">Zoom out</button>

<button  onmousedown="camera51.onclickLongZoomIn()" onmouseup="camera51.onmouseupLongZoomIn()" >Long Zoom in</button>
<button  onmousedown="camera51.onclickLongZoomOut()" onmouseup="camera51.onmouseupLongZoomOut()" >Long Zoom out</button>

<br>
<button  onclick="camera51.showResult()">Show Result</button>
<button  onclick="camera51.saveImage()">Save Image</button>

<p>
<h2>I/O</h2>
<label> Customer Id</label>  <input type="text" id="customerId" style="width:40px" value="201">
<label> Track Id</label>  <input type="text" id="trackId" style="width:250px" value="http://s3.amazonaws.com/cam-dev-server/19052016/1231234/SID_ed69efad9948419b90e6a7500c42bda4/5588751fc6d340fc9ed2982f9a77ef80.jpg"> <button onclick="submitData()">Submit data</button>
<br>
<label> Result url</label>  <input type="text" name="resultUrl" style="width:250px" disabled="disabled" id="resultUrl">
<label> Loader (see callback)</label>  <input type="text"  disabled="disabled" id="loader"><br><br>
<label style="vertical-align: top;"> Error found (see callback)</label>  <textarea   disabled="disabled" id="responseError" rows="3" cols="40"></textarea>
</p>
</div>
<h2>Iframe</h2>
<div style="width:870px;height:500px;border:0px;margin: 0 auto;" id="ad54">

</div>
<br><br><br><br><br><br>
<script>

function submitData(){
	var customerId = document.getElementById('customerId').value;
	var trackId = document.getElementById('trackId').value;
	runCamera(customerId,trackId);
}

function runCamera(customerId,trackId){
	camera51.setData({customerId: customerId,
		trackId: trackId});
}

window.onload = function(){
	initCamera51({
		elementId: "ad54",
		iframeSrc: "index.html",
		//customerId: customerId,
		//trackId: trackId,
		callBackStartLoader: function(){
			// then user return a url
			document.getElementById('loader').value = "START";
			document.getElementById('loader').style.backgroundColor = "red";
		//	console.log("new callBackFuncSave " + response );
		},
		callBackStopLoader: function(){
			document.getElementById('loader').style.backgroundColor = "";
			document.getElementById('loader').value = "STOP";
		},
		callBackFuncSave: function(response){
			document.getElementById('resultUrl').value = response;
		},
		callBackError: function(response){
			// response.error = (types:  trackerIdNotFound)
			// response.message
			document.getElementById('responseError').value = JSON.stringify(response);
		}

	});
}
</script>
<script type="text/javascript" src="/assets/camera51.js"></script>
</body>
</html>
