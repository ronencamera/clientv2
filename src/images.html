<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<!-- Compiled and minified CSS -->
<!--Import Google Icon Font-->
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<!-- Compiled and minified JavaScript -->

</head>
<body>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
<link href="assets/dragdropfile/style.css" rel="stylesheet">

<div class="roboto" style="text-align: center;background-color: rgba(14, 48, 73, 1);color: white;height: 59px">
  <div style="width: 980px; height: inherit;display: inline-block;text-align: left;">
  <span class="helper"></span>
  <img style=" vertical-align: middle;    height: 41px;-webkit-user-select: none" src="https://static.wixstatic.com/media/6a46b6_637fba01ae83440b8b0d19cd32516043~mv2.png/v1/fill/w_240,h_62,al_c,lg_1/6a46b6_637fba01ae83440b8b0d19cd32516043~mv2.png">
  </div>
</div>
<div id="dropbox">
  <div style="margin: 30px">
    Drop Images In Page
  </div>

</div>


<!-- Modal error messages -->
<div id="show-token-error" class="modal">
  <div class="modal-content">
    <h5 id="errorSubject"></h5>
    <p id="errorMessage" class="font14"></p>
  </div>
  <div class="modal-footer">
    <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat font14" >Close</a>
  </div>
</div>



<div style="text-align: center;">

  <a id="download-selected" class="waves-effect waves-light btn-large green" style="background-color: #2B6CA3 !important">Download images</a>
</div>


<div id="imageList">

</div>

<!-- Modal Structure -->
<div id="modal1" class="modal" style="margin-bottom: -8px; ">
  <div class="modal-content" style="padding-top: 20px;padding-bottom: 5px;background-color: #393b4b;">
    <a style="position: absolute; right: 11px; top: 16px;"
       class="btn-floating modal-action modal-close waves-effect waves-light btn-flat">
      <i style="font-size: 24px;color: white" class="material-icons right">close</i>
    </a>
    <div style="font-family: Roboto, sans-serif; font-size: 24px; color: white;margin-bottom: 6px;">Background Remover
      Edit
    </div>
    <a id="camera51-btn-mark-object" class="waves-effect waves-light btn-flat roboto tooltipped"
       data-position="bottom" data-delay="50" data-tooltip="Draw lines to mark areas you want to keep in the image"
       style="color:#7cb342;font-size: 14px;padding-right: 10px; padding-left: 10px;" onclick="camera51.setColor('colorFG');">
      <i class="material-icons left" style="color:#7cb342;padding-right: 0px;margin-right: 10px;font-size: 24px;">add_circle</i>
      Mark Object
    </a>
    <a id="camera51-btn-mark-background" class="waves-effect waves-light  btn-flat roboto tooltipped"
       data-position="bottom" data-delay="50" data-tooltip="Draw lines to mark areas you want to remove from the image"
       style="margin-left:10px;color:#f44336;font-size: 14px;padding-right: 10px; padding-left: 10px;" onclick="camera51.setColor('colorBG');">
      <i class="material-icons left" style="color:#f44336;padding-right: 0px;margin-right: 10px;font-size: 24px;">remove_circle</i>
      Mark Background
    </a>
    <a id="camera51-btn-undo" class="waves-effect waves-light btn-flat roboto" style="color: white;font-size: 14px;"
       onclick="camera51.undo()">UNDO</a>
    <br>
    <a id="camera51-zoom-in" class="waves-effect waves-circle transparent"
       style="position: absolute;top: 141px;left: 36px" onmousedown="camera51.onclickLongZoomIn()"
       onmouseup="camera51.onmouseupLongZoomIn()">
      <i class="material-icons right small zoomRippel" style="color:#393b4b;">zoom_in</i>
    </a>
    <a id="camera51-zoom-out" class="waves-effect waves-circle transparent"
       style="position: absolute;top: 194px;left: 36px" onmousedown="camera51.onclickLongZoomOut()"
       onmouseup="camera51.onmouseupLongZoomOut()">
      <i class="material-icons right small zoomRippel" style="color:#393b4b;">zoom_out</i>
    </a>
  </div>
  <div class="progress" style="margin: 0px;visibility: hidden;height: 3px" id="camera51-loader">
    <div class="indeterminate"></div>
  </div>
  <div>
    <div id="camera51Iframe" style="height:500px;width:100%"></div>
  </div>
  <div class="modal-footer" style="background-color: white ">
    <a id="camera51-btn-save-image" class=" btn white-text   waves-light btn-flat btn-large malabiBG "
       onclick="camera51.saveImage()"
       style="font-size: 14px;margin-right: 9px; margin-left: 23px;">Save Changes</a>
    <a id="camera51-btn-show-result" class="waves-effect waves-teal btn-flat btn "
       style="font-size: 14px; margin-left: 10px; margin-top: 17px;"
       onclick="camera51.showResult()">preview result</a>
  </div>
</div>

<script>



  var customerId = null;
  var customerSessionToken = null;
  var camera51EditorIframe = "camera51Iframe";

  /* create this mapping and pass it to camera51WithQueue.init in order to
   * override text with localization
   * see full list of keys in documentation
   */


  $(document).ready(function () {


    // call to initialize the Camera51 object
    camera51WithQueue.init({
      "customerId": customerId,
      "sessionToken": customerSessionToken,
      "camera51EditorIframe": camera51EditorIframe,
      "decreaseInnerHeight": 20,
      "wrappermarginTop":10

    });
  });


  // implement this function and call it after your user has uploaded a new image
  function requestImage(imageId, origImgUrl) {
    var responseElement = document.getElementById("resultPreview-" + imageId);

    // start loader
    var str = 'resultPreview-' + imageId + ' .preloader-wrapper';
    $("#"+str ).addClass('active');

    /*
     call to process an image. pass the element
     and camera51.js will insert the response into this element.
     response will include and image or response message. Under it a button.
     */
    camera51WithQueue.requestAsync( origImgUrl, responseElement);
  }

  /*
    implement this function to open Camera51 Editor.
    function name must be camera51OpenEditor in order to use camera51 builtin callback.
    function receives a trackId and imgElementId to set the src to the resultUrl.
   */
  function camera51OpenEditor(trackId, responseElementId) {

    var responseElement = document.getElementById(responseElementId);
    /*
     implement the onSaveWithResult and pass it to Camera51.openEditorWithTrackId.
     this function specify what to do once the user selected an image in the editor.
     */
    var onSaveWithResult = function (resultUrl) {
      $('#modal1').closeModal();
    };

    $('#modal1').openModal();

    // open the editor
    camera51WithQueue.openEditorWithTrackId({
      'customerId': customerId,
      'trackId': trackId
    }, onSaveWithResult, responseElement);
  }
  ;(function($, window, document, undefined) {
    "use strict"

    var download = function (options) {
      var triggerDelay = (options && options.delay) || 100
      var cleaningDelay = (options && options.cleaningDelay) || 1000

      this.each(function (index, item) {
        createIFrame(item, index * triggerDelay, cleaningDelay)
      })
      return this
    }

    var createIFrame = function (item, triggerDelay, cleaningDelay) {
      setTimeout(function () {
        var frame = $('<iframe style="display: none;" class="multi-download-frame"></iframe>')

        frame.attr('src', $(item).attr('href') || $(item).attr('src'))
        $(item).after(frame)

        setTimeout(function () { frame.remove() }, cleaningDelay)
      }, triggerDelay)
    }

    $.fn.multiDownload = function(options) {
      return download.call(this, options)
    }

  })(jQuery, window, document);
</script>

<script src="assets/camera51.js"></script>
<script src="assets/dragdropfile/filereader.js"></script>
<script src="assets/dragdropfile/script.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75726540-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'userId', customerId); // Set the user ID using signed-in user_id.
</script>

</body>
</html>

